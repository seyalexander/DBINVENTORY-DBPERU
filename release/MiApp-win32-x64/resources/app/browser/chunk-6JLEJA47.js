import{a as V}from"./chunk-WENYZPIL.js";import{a as R,b as J,c as K}from"./chunk-3NHYXP5X.js";import{a as G,b as $,c as N,d as H}from"./chunk-V7IAVRAT.js";import{a as W,b as X}from"./chunk-ZDVT23G7.js";import{c as Q}from"./chunk-QV2VT3T6.js";import{a as de}from"./chunk-KMMM7LTP.js";import{a as ee}from"./chunk-CWKPO4JT.js";import{a as Y,b as Z}from"./chunk-ALGLUMIM.js";import{k as q}from"./chunk-25NNDTFO.js";import{a as B}from"./chunk-HOXLKUOK.js";import{Ab as i,Bb as a,Ca as F,Cb as l,Gb as T,Jb as v,Jc as O,Kb as f,Tb as s,Ub as j,Vb as b,Ya as r,Z as w,ac as c,ca as E,da as C,dc as k,fc as U,gc as z,ja as m,ob as h,qb as u,ta as I,ua as y,va as _,vb as p,wa as D,wb as P,yb as M,zb as L}from"./chunk-P2XP77ST.js";import{g as le}from"./chunk-P2VZOJAX.js";var te=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["header-page-asignar"]],standalone:!0,features:[c],decls:9,vars:0,consts:[[1,"container-header","px-6","py-4","grid","gap-3","md:flex","md:justify-between","md:items-center","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-100"],[1,"text-sm","text-gray-100"],[1,"inline-flex","items-center","gap-x-1.5","text-gray-100","decoration-2","hover:underline","focus:outline-none","focus:underline","font-medium"],[1,"inline-flex","gap-x-2"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div")(2,"h2",1),s(3," ASIGNAR USUARIO "),a(),i(4,"p",2),s(5," Asigna usuarios a tus inventarios de "),i(6,"a",3),s(7,"manera sensilla"),a()()(),l(8,"div",4),a())},styles:[".container-header[_ngcontent-%COMP%]{height:8rem;background:linear-gradient(to right,var(--color-principal-3),var(--color-principal-1))}"]})}}return e})();var ne=(()=>{class e{constructor(t){this._getInventariosGateWay=t}getInventarios(){return this._getInventariosGateWay.getInventarios()}static{this.\u0275fac=function(n){return new(n||e)(E(B))}}static{this.\u0275prov=w({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var A=le(de());var ie=(()=>{class e{constructor(){this.descripcion=""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["th-table-asignar"]],inputs:{descripcion:"descripcion"},standalone:!0,features:[c],decls:3,vars:1,consts:[[1,"flex","items-center","gap-x-2"],[1,"text-xs","font-semibold","uppercase","tracking-wide","text-gray-800"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"span",1),s(2),a()()),n&2&&(r(2),b(" ",o.descripcion," "))}})}}return e})();var ae=(()=>{class e{constructor(){this.recargar=new F}recargarPagina(){this.recargar.emit()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["mensaje-error-tabla-datos-asignar"]],outputs:{recargar:"recargar"},standalone:!0,features:[c],decls:15,vars:0,consts:[[1,"max-w-sm","w-full","min-h-[400px]","flex","flex-col","justify-center","mx-auto","px-6","py-4"],[1,"flex","justify-center","items-center","size-[46px]","bg-gray-100","rounded-lg","dark:bg-neutral-800"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"shrink-0","size-6","text-gray-600","dark:text-neutral-400"],["d","M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"],["d","M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"],[1,"mt-5","font-semibold","text-gray-800","dark:text-white"],[1,"mt-2","text-sm","text-gray-600","dark:text-neutral-400"],[1,"mt-5","flex","flex-col","sm:flex-row","gap-2"],["type","button",1,"py-2","px-3","inline-flex","justify-center","items-center","gap-x-2","text-sm","font-medium","rounded-lg","border","border-transparent","bg-blue-600","text-white","hover:bg-blue-700","focus:outline-none","focus:bg-blue-700","disabled:opacity-50","disabled:pointer-events-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"shrink-0","size-4"],["d","M5 12h14"],["d","M12 5v14"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div",1),_(),i(2,"svg",2),l(3,"path",3)(4,"path",4),a()(),D(),i(5,"h2",5),s(6," Error al obtener los datos "),a(),i(7,"p",6),s(8," Refresque la p\xE1gina para poder a cargar los datos "),a(),i(9,"div",7)(10,"button",8),v("click",function(){return o.recargarPagina()}),_(),i(11,"svg",9),l(12,"path",10)(13,"path",11),a(),s(14," Recargar p\xE1gina "),a()()())}})}}return e})();var oe=(()=>{class e{constructor(){this.descripcion=""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["td-descripcion-asignar"]],inputs:{descripcion:"descripcion"},standalone:!0,features:[c],decls:4,vars:1,consts:[[1,"px-6","py-3","flex","gap-2","align-center"],["src","../../../../../../assets/svg/icon_excel.svg","alt",""],[1,"text-sm","text-gray-600","dark:text-neutral-400"]],template:function(n,o){n&1&&(i(0,"div",0),l(1,"img",1),i(2,"span",2),s(3),a()()),n&2&&(r(3),b(" ",o.descripcion," "))}})}}return e})();function me(e,d){if(e&1&&(i(0,"span",3),_(),i(1,"svg",4),l(2,"path",5),a(),s(3),a()),e&2){let t=f();r(3),b(`
`,t.usuario,`
`)}}function ce(e,d){e&1&&(i(0,"span",6),_(),i(1,"svg",4),l(2,"path",7),a(),s(3," Sin asignar "),a())}var re=(()=>{class e{constructor(){this.usuario=""}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["td-usuario-asignar"]],inputs:{usuario:"usuario"},standalone:!0,features:[c],decls:5,vars:1,consts:[[1,"px-6","py-3"],[1,"flex","items-center","gap-x-2"],[1,"grow"],[1,"py-1","px-1.5","inline-flex","items-center","gap-x-1","text-xs","font-medium","bg-teal-100","text-teal-800","rounded-full","dark:bg-teal-500/10","dark:text-teal-500"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"size-2.5"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"],[1,"inline-flex","items-center","gap-1.5","py-0.5","px-2","rounded-full","text-xs","font-medium","bg-red-100","text-red-800","dark:bg-red-900","dark:text-green-200"],["d","M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),h(3,me,4,1,"span",3)(4,ce,4,0),a()()()),n&2&&(r(3),p(3,o.usuario?3:4))}})}}return e})();var pe=(e,d)=>({itemsPerPage:e,currentPage:d});function ue(e,d){if(e&1){let t=T();i(0,"mensaje-error-tabla-datos-asignar",16),v("recargar",function(){I(t);let o=f();return y(o.recargarPagina())}),a()}}function ge(e,d){e&1&&l(0,"td-estado-1")}function fe(e,d){e&1&&l(0,"td-estado-2",26)}function ve(e,d){e&1&&l(0,"td-estado-3",27),e&2&&u("estado","Anulado")}function he(e,d){e&1&&s(0," Inventario anulado ")}function xe(e,d){e&1&&s(0," Inventario culminado ")}function _e(e,d){e&1&&s(0," Asignar ")}function be(e,d){e&1&&s(0," Cambiar asignado ")}function Ce(e,d){if(e&1){let t=T();i(0,"button",34),v("click",function(){I(t);let o=f().$implicit,g=f(2);return y(g.ObtenerDetatosInventarios(o.rucempresa,o.idcarga))}),h(1,_e,1,0)(2,be,1,0),a()}if(e&2){let t=f().$implicit;r(),p(1,t.usuarioAsignado==""||t.UsuarioAsignado==null?1:-1),r(),p(2,t.usuarioAsignado!=""&&t.UsuarioAsignado!=null?2:-1)}}function Ie(e,d){if(e&1){let t=T();i(0,"tr")(1,"td",23),l(2,"td-descripcion-asignar",20),a(),i(3,"td",23),l(4,"td-usuario-asignar",24),a(),i(5,"td",23)(6,"td-table-btn-detalle",25),v("obtenerDetalle",function(o){I(t);let g=f(2);return y(g.ObtenerDetalleInventarios(o.rucempresa,o.idcarga))}),a()(),i(7,"td",23),h(8,ge,1,0,"td-estado-1")(9,fe,1,0,"td-estado-2",26)(10,ve,1,1,"td-estado-3",27),a(),i(11,"td",23)(12,"div",28)(13,"div",29)(14,"div",30),l(15,"button",31),i(16,"ul",32),h(17,he,1,0)(18,xe,1,0)(19,Ce,3,2,"button",33),a()()()()()()}if(e&2){let t=d.$implicit;r(2),u("descripcion",t.Descripcion),r(2),u("usuario",t.usuarioAsignado),r(2),u("idcarga",t.idcarga)("rucempresa",t.rucempresa),r(2),p(8,t.estado=="1"?8:-1),r(),p(9,t.estado=="2"?9:-1),r(),p(10,t.estado=="0"?10:-1),r(7),p(17,t.estado=="0"?17:-1),r(),p(18,t.estado=="2"?18:-1),r(),p(19,t.estado=="1"?19:-1)}}function ye(e,d){if(e&1&&(i(0,"table",17)(1,"thead",18)(2,"tr")(3,"th",19),l(4,"th-table-asignar",20),a(),i(5,"th",19),l(6,"th-table-asignar",20),a(),i(7,"th",19),l(8,"th-table-asignar",20),a(),i(9,"th",19),l(10,"th-table-asignar",20),a(),l(11,"th",21),a()(),i(12,"tbody",22),M(13,Ie,20,10,"tr",null,P),U(15,"paginate"),a()()),e&2){let t=f();r(4),u("descripcion","Descripcion"),r(2),u("descripcion","Usuario Asignado"),r(2),u("descripcion","Detalle"),r(2),u("descripcion","Estado"),r(3),L(z(15,4,t.datosInventariosFiltradoslista,k(7,pe,t.itemsPerPage,t.p)))}}var se=(()=>{class e{constructor(){this.listaUsuarios=C(R),this.listaInventarios=C(ne),this.ObjectInventario=C(W),this.ListDetalleInventario=C(X),this.collection=[],this.getUsuarios_All=[],this.listaProductos=[],this.paginatedProductos=[],this.datosInventarioslista=[],this.datosInventariosFiltradoslista=[],this.datosInventario={},this.currentPageProductos=1,this.cantidadDatosInventarioLista=0,this.cantidadListaProductos=0,this.mensajeCantidad="",this.p=1,this.mostrarRefrescoPagina=!0,this.itemsPerPage=10}ngOnInit(){this.listarUsuarios(),this.listarInventarios(),this.listarInventariosFiltro("asignados")}listarInventarios(){try{this.inventarioSubscription=this.listaInventarios.getInventarios().subscribe({next:t=>{Array.isArray(t)?(this.datosInventarioslista=t,this.cantidadDatosInventarioLista=t.length,this.mostrarRefrescoPagina=!1):(this.mostrarMensajeError("DATOS NO V\xC1LIDOS",`${t}`),this.datosInventarioslista=[],this.cantidadDatosInventarioLista=0)},error:t=>{this.mostrarMensajeError(t.name,"Verifique la conexi\xF3n con el API y recargue el listado."),this.datosInventarioslista=[],this.cantidadDatosInventarioLista=0,this.mostrarRefrescoPagina=!0}})}catch(t){this.mostrarMensajeError("Error inesperado",`Error en listarInventarios: ${t}`)}}onFiltroChange(t){t==="todos"||t==="asignados"||t==="noAsignados"?this.listarInventariosFiltro(t):this.mostrarFiltroErroneo("Filtro inv\xE1lido")}listarInventariosFiltro(t){try{this.inventarioSubscription=this.listaInventarios.getInventarios().subscribe({next:n=>{Array.isArray(n)?(this.datosInventariosFiltradoslista=n,this.mostrarRefrescoPagina=!1,this.datosInventariosFiltradoslista.length==0&&(this.mensajeCantidad="Sin inventarios"),this.datosInventariosFiltradoslista.length==1&&(this.mensajeCantidad=`${this.datosInventariosFiltradoslista.length} Inventario`),this.datosInventariosFiltradoslista.length>1&&(this.mensajeCantidad=`${this.datosInventariosFiltradoslista.length} Inventarios`)):(this.mostrarMensajeError("DATOS NO V\xC1LIDOS",`${n}`),this.datosInventariosFiltradoslista=[],this.cantidadDatosInventarioLista=0)},error:n=>{this.mostrarMensajeError(n.name,"Verifique la conexi\xF3n con el API y recargue el listado."),this.datosInventariosFiltradoslista=[],this.cantidadDatosInventarioLista=0,this.mostrarRefrescoPagina=!0}})}catch(n){this.mostrarMensajeError("Error inesperado",`Error en listarInventarios: ${n}`)}}listarUsuarios(){try{this.UsuariosSubscription=this.listaUsuarios.ListarusUarios().subscribe(t=>{this.getUsuarios_All=t.usuarios})}catch{}}recargarPagina(){window.location.reload()}ObtenerDetalleInventarios(t,n){let o={rucempresa:t,idcarga:n};this.ListDetalleInventario.getDetalleInventario(o).subscribe(g=>{this.listaProductos=g}),this.ObtenerDetatosInventarios(t,n)}ObtenerDetatosInventarios(t,n){let o={rucempresa:t,idcarga:n};this.ObjectInventario.getInventarioById(o).subscribe(g=>{this.datosInventario=g})}onItemsPerPageChange(t){let n=t.target;this.itemsPerPage=Number(n.value)}respuestaInventariosLlamarSoporte(){A.default.fire({icon:"error",title:"Contactarse con soporte t\xE9cnico",text:"N\xFAmero de contacto"})}mostrarMensajeError(t,n){A.default.fire({icon:"error",title:t,text:n})}mostrarFiltroErroneo(t){A.default.fire({icon:"error",title:"ERROR",text:t})}ngOnDestroy(){this.inventarioSubscription&&this.inventarioSubscription.unsubscribe(),this.UsuariosSubscription&&this.UsuariosSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["tabla-inventarios-asignados"]],standalone:!0,features:[c],decls:29,vars:8,consts:[[1,"px-6","py-4","grid","gap-3","md:flex","md:justify-between","md:items-center","border-t","border-gray-200","dark:border-neutral-700"],[1,"text-sm","text-gray-600"],[1,"font-semibold","text-gray-800"],[1,"inline-flex","gap-x-2"],[1,"input-group","mb-2"],[1,"dropdown","mr-4"],["aria-label","Default select example",1,"form-select",3,"change"],["value","","disabled","","selected",""],["value","5"],["selected","","value","10"],["value","15"],["value","20"],[1,"flex","items-center","justify-center"],[3,"pageChange"],[3,"citaSeleccionada","detalleProductos","cantidadInventarios"],[3,"rucEmpresa","idCarga","getUsuarios_All"],[3,"recargar"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-start"],[3,"descripcion"],["scope","col",1,"px-6","py-3","text-end"],[1,"divide-y","divide-gray-200"],[1,"size-px","whitespace-nowrap"],[3,"usuario"],[3,"obtenerDetalle","idcarga","rucempresa"],["estado","'Inventariado'"],[3,"estado"],[1,"px-6","py-1.5"],[1,"hs-dropdown","[--placement:bottom-right]","relative","inline-block"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","dropdown-toggle"],[1,"dropdown-menu"],["title","none","type","button","aria-haspopup","dialog","aria-expanded","false","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"w-full"],["title","none","type","button","aria-haspopup","dialog","aria-expanded","false","data-bs-toggle","modal","data-bs-target","#staticBackdrop",1,"w-full",3,"click"]],template:function(n,o){n&1&&(l(0,"header-page-asignar"),h(1,ue,1,0,"mensaje-error-tabla-datos-asignar")(2,ye,16,10),i(3,"div",0)(4,"div")(5,"p",1)(6,"span",2),s(7),a(),s(8," Inventarios en total "),a()(),i(9,"div")(10,"div",3)(11,"div",4)(12,"div",5)(13,"select",6),v("change",function(S){return o.onItemsPerPageChange(S)}),i(14,"option",7),s(15,"\xCDtems"),a(),i(16,"option",8),s(17,"5"),a(),i(18,"option",9),s(19,"10"),a(),i(20,"option",10),s(21,"15"),a(),i(22,"option",11),s(23,"20"),a()()(),i(24,"div",12)(25,"pagination-controls",13),v("pageChange",function(S){return o.p=S}),a()()()()()(),l(26,"footer-general")(27,"detalle-carga-inventarios",14)(28,"registro-asignar-page",15)),n&2&&(r(),p(1,o.mostrarRefrescoPagina==!0?1:2),r(6),j(o.datosInventariosFiltradoslista.length),r(20),u("citaSeleccionada",o.datosInventario)("detalleProductos",o.listaProductos)("cantidadInventarios",o.cantidadListaProductos),r(),u("rucEmpresa",o.datosInventario.rucempresa)("idCarga",o.datosInventario.idcarga)("getUsuarios_All",o.getUsuarios_All))},dependencies:[N,G,$,te,V,J,O,ie,ae,oe,re,q,Q,K,H,Y,Z,ee]})}}return e})();var ot=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=m({type:e,selectors:[["lista-asignar-page"]],standalone:!0,features:[c],decls:6,vars:0,consts:[[1,"max-w-[95rem]","px-4","py-10","sm:px-6","lg:px-8","lg:py-4","mx-auto"],[1,"flex","flex-col"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"bg-white","border","border-gray-200","rounded-xl","shadow-sm","overflow-hidden","dark:bg-neutral-900","dark:border-neutral-700"]],template:function(n,o){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l(5,"tabla-inventarios-asignados"),a()()()()())},dependencies:[se]})}}return e})();export{ot as a};
