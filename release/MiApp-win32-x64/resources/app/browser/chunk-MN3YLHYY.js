import{a as A}from"./chunk-FT62FQFN.js";import{a as V,b as Be,c as Ve}from"./chunk-HCO2HEL2.js";import{a as Ee,b as ve,c as _e}from"./chunk-SQOIDT5J.js";import{a as $e,b as z,c as F}from"./chunk-KMMM7LTP.js";import{a as k,b as Ce,e as D,f as I,j as ye,k as Me,l as B,m as Se,n as we,o as Re,p as Pe,q as Te,r as Le,s as Oe,t as ke,u as De,v as Ie,w as ze,x as Fe,y as Ae}from"./chunk-25NNDTFO.js";import"./chunk-HNMGAJEO.js";import"./chunk-EJJBCPAK.js";import{a as me,b as h,d as de,e as ce,f as X,h as P,j as pe,l as ue,m as fe,s as ge,t as he}from"./chunk-DS4W2E5P.js";import{a as be}from"./chunk-7KPXEIKL.js";import{a as L,b as O}from"./chunk-DORSZTD2.js";import{B as xe}from"./chunk-A4FPPA6U.js";import{b as se}from"./chunk-UFZ5HBZB.js";import{Ab as e,Bb as a,Cb as s,Db as y,Eb as M,Gb as ne,Hc as le,Jb as b,Jc as T,Pb as q,Qb as Q,Rb as $,Tb as o,Ub as E,Vb as v,Ya as l,Yb as S,Z as J,Za as U,Zb as w,_b as R,ac as u,bc as ie,ca as K,da as G,fc as oe,gc as re,ja as p,ob as x,qb as g,ta as H,ua as W,va as f,vb as Y,wa as C,wb as ee,yb as te,zb as ae}from"./chunk-P2XP77ST.js";import{g as Qe}from"./chunk-P2VZOJAX.js";var je=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["body-table-estado-activo"]],standalone:!0,features:[u],decls:5,vars:0,consts:[[1,"block","px-6","py-1"],[1,"py-1","px-1.5","inline-flex","items-center","gap-x-1","text-xs","font-medium","bg-teal-100","text-teal-800","rounded-full","dark:bg-teal-500/10","dark:text-teal-500"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"size-2.5"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"]],template:function(r,i){r&1&&(e(0,"span",0)(1,"span",1),f(),e(2,"svg",2),s(3,"path",3),a(),o(4," Activo "),a()())}})}}return t})();var Ne=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["body-table-estado-inactivo"]],standalone:!0,features:[u],decls:5,vars:0,consts:[[1,"block","px-6","py-1"],[1,"inline-flex","items-center","gap-1.5","py-0.5","px-2","rounded-full","text-xs","font-medium","bg-red-100","text-red-800","dark:bg-red-900","dark:text-green-200"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"size-2.5"],["d","M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"]],template:function(r,i){r&1&&(e(0,"span",0)(1,"span",1),f(),e(2,"svg",2),s(3,"path",3),a(),o(4," Declined "),a()())}})}}return t})();var Z=Qe($e());var j=class{constructor(){this.rucempresa="",this.razonsocial="",this.direccion="",this.telefono="",this.estado="",this.fechacreacion="",this.usuariocreacion="",this.fechamodificacion="",this.usuariomodificacion="",this.cantidadSucursales=0}};var Ge=(()=>{class t{consultaRuc(n){return this.httpCliente.post(`${this.URL}/ConsultaRuc`,n,{headers:{"Content-Type":"application/json"}})}constructor(n){this.httpCliente=n,this.URL=be.API_URL}static{this.\u0275fac=function(r){return new(r||t)(K(se))}}static{this.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var He=(()=>{class t{constructor(n,r){this._empresas=n,this._consultaRuc=r,this.RazonSocial="",this.Direccion="",this.DatosEmpresas=[],this.ConsultaRuc={},this.formularioRegistro=new X({}),this.Empresa=new j,this.tituloSwalCorrecto="CONFIRMACI\xD3N"}ngOnInit(){this.formularioRegistro=new X({rucEmpresa:new P("",[h.required,h.minLength(11),h.maxLength(11)]),razonSocial:new P("",[h.required,h.minLength(5)]),telefonoEmpresa:new P("",[h.required,h.minLength(6)]),direccionEmpresa:new P("",[h.required,h.minLength(5)])})}mensajeRegistroEmpresa(n,r){Z.default.fire({icon:"error",title:"Oops...",text:`${n} ${r}`})}guardarEmpresa(){let n=this.Empresa;n.usuariocreacion=sessionStorage.getItem("user")??"system",n.usuariomodificacion=sessionStorage.getItem("user")??"system",n.estado="1",this._empresas.newEmpresa(n).subscribe({next:r=>{console.log(r),this.mensajeValidacionRegistroCorrecto(this.tituloSwalCorrecto)},error:r=>{this.mensajeRegistroEmpresa("Error al registrar la empresa",r)}})}validarRuc(){console.log("RUC ingresado:",this.formularioRegistro.get("rucEmpresa")?.value)}busquedaPorRuc(){let n=this.formularioRegistro.get("rucEmpresa")?.value;if(!n||n.length!==11){console.warn("RUC inv\xE1lido:",n);return}console.log("Buscando informaci\xF3n para RUC:",n);let r={nroDocumento:n};this.empresasRuc=this._consultaRuc.consultaRuc(r).subscribe(i=>{this.ConsultaRuc=i,this.RazonSocial=i.result.RazonSocial,this.Direccion=i.result.Direccion;let c=i.result?.RazonSocial||"",m=i.result?.Direccion||"";this.formularioRegistro.patchValue({razonSocial:c}),this.formularioRegistro.patchValue({direccionEmpresa:m})},i=>{console.error("Error en la consulta del RUC:",i)})}onCancel(){this.formularioRegistro.reset()}mensajeValidacionRegistroCorrecto(n){let r=n.message?n.message:"Empresa registrada correctamente";Z.default.fire(`${this.tituloSwalCorrecto}`,r,"success").then(()=>{window.location.reload()})}ngOnDestroy(){this.empresasRuc?.unsubscribe(),this.consultaRuc?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)(U(A),U(Ge))}}static{this.\u0275cmp=p({type:t,selectors:[["registro-empresa"]],standalone:!0,features:[u],decls:48,vars:7,consts:[["id","modalRegistoEmpresas","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","staticBackdropLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","h-32","bg-fondo-header"],[1,"mt-8","text-4xl","font-bold","text-center","text-white"],[1,"text-[#00D1AE]"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"sr-only"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:gap-x-5"],["src","https://preline.co/assets/img/160x160/img1.jpg","alt","Avatar",1,"-mt-8","relative","z-10","inline-block","size-24","mx-auto","sm:mx-0","rounded-full","ring-4","ring-white"],[1,"modal-body"],[3,"ngSubmit","formGroup"],["label","DGENERALES"],[1,"mt-0","space-y-3","px-4","pt-6"],[1,"flex","gap-3","rucempresa"],[1,"w-full"],["formControlName","rucEmpresa","matInput","","placeholder","Ingresar Ruc",3,"ngModelChange","ngModel"],["type","button","mat-fab","","aria-label","Example icon button with a delete icon",3,"click","disabled"],["formControlName","razonSocial","matInput","","placeholder","Ingresar Razon social",3,"ngModelChange","ngModel"],["label","CONTACTO"],[1,"mt-0","rounded-xl","px-4","pt-6"],["formControlName","telefonoEmpresa","matInput","","placeholder","Ingresar Tel\xE9fono",3,"ngModelChange","ngModel"],["label","DIRECCION"],["formControlName","direccionEmpresa","matInput","","placeholder","Ingresar direcci\xF3n",3,"ngModelChange","ngModel"],[1,"modal-footer","mt-3"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","submit",1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","rounded-lg","border","border-transparent","bg-blue-600","text-white","hover:bg-blue-700","focus:outline-none","focus:bg-blue-700","disabled:opacity-50","disabled:pointer-events-none",3,"disabled"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),o(5," Emp"),e(6,"span",5),o(7,"resa"),a()(),e(8,"button",6),b("click",function(){return i.onCancel()}),a()(),e(9,"div")(10,"label",7),o(11," Product photo "),a(),e(12,"div",8),s(13,"img",9),a()(),e(14,"div",10)(15,"form",11),b("ngSubmit",function(){return i.guardarEmpresa()}),e(16,"mat-tab-group")(17,"mat-tab",12)(18,"div",13)(19,"div",14)(20,"mat-form-field",15)(21,"mat-label"),o(22,"RUC EMPRESA"),a(),e(23,"input",16),R("ngModelChange",function(m){return w(i.Empresa.rucempresa,m)||(i.Empresa.rucempresa=m),m}),a()(),e(24,"button",17),b("click",function(){return i.busquedaPorRuc()}),e(25,"mat-icon"),o(26,"search"),a()()(),e(27,"mat-form-field",15)(28,"mat-label"),o(29,"RAZON SOCIAL"),a(),e(30,"input",18),R("ngModelChange",function(m){return w(i.Empresa.razonsocial,m)||(i.Empresa.razonsocial=m),m}),a()()()(),e(31,"mat-tab",19)(32,"div",20)(33,"mat-form-field",15)(34,"mat-label"),o(35,"TELEFONO"),a(),e(36,"input",21),R("ngModelChange",function(m){return w(i.Empresa.telefono,m)||(i.Empresa.telefono=m),m}),a()()()(),e(37,"mat-tab",22)(38,"div",20)(39,"mat-form-field",15)(40,"mat-label"),o(41,"DIRECCI\xD3N"),a(),e(42,"input",23),R("ngModelChange",function(m){return w(i.Empresa.direccion,m)||(i.Empresa.direccion=m),m}),a()()()()(),e(43,"div",24)(44,"button",25),b("click",function(){return i.onCancel()}),o(45," Close "),a(),e(46,"button",26),o(47," Guardar "),a()()()()()()()),r&2&&(l(15),g("formGroup",i.formularioRegistro),l(8),S("ngModel",i.Empresa.rucempresa),l(),g("disabled",!i.Empresa.rucempresa||i.Empresa.rucempresa.length!==11),l(6),S("ngModel",i.Empresa.razonsocial),l(6),S("ngModel",i.Empresa.telefono),l(6),S("ngModel",i.Empresa.direccion),l(4),g("disabled",!i.formularioRegistro.valid))},dependencies:[ge,pe,me,de,ce,he,ue,fe,T,I,D,k,F,z,O,L,Me,ye,_e,Ee,ve],styles:['.bg-fondo-header[_ngcontent-%COMP%]{background-image:url("./media/bg_fondo-CXGFOBCI.webp");background-repeat:no-repeat;object-fit:contain;background-size:cover;border:none}.fill-bg-fondo[_ngcontent-%COMP%]{fill:#fff}.rucempresa[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00d1ae;border-radius:10px}']})}}return t})();function Ye(t,d){if(t&1&&(e(0,"div",37)(1,"div",38)(2,"div",39)(3,"div",40)(4,"p",41),o(5," Sucursal "),a()(),e(6,"div",42)(7,"h3",43),o(8),a()()()()()),t&2){let n=d.$implicit;l(8),v(" ",n.nombresucursal," ")}}var We=(()=>{class t{constructor(){this.detalleEmpresa={},this.listaSucursales=[]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["detalle-empresa-page"]],inputs:{detalleEmpresa:"detalleEmpresa",listaSucursales:"listaSucursales"},standalone:!0,features:[u],decls:68,vars:5,consts:[["data-bs-backdrop","static","tabindex","-1","id","detalleEmpresa","aria-labelledby","staticBackdropLabel",1,"offcanvas","offcanvas-end","ancho"],[1,"offcanvas-body"],[1,"flex","w-full","h-full","gap-2"],[1,"container-detalle-empresa"],[1,"relative","flex","flex-col","bg-white","shadow-lg","rounded-xl","pointer-events-auto"],[1,"relative","overflow-hidden","min-h-20","bg-gray-900","text-center","rounded-t-xl"],[1,"absolute","top-2","end-2"],[1,"absolute","inset-x-0","bottom-0","-mb-px"],["preserveAspectRatio","none","xmlns","http://www.w3.org/2000/svg","x","0px","y","0px","viewBox","0 0 1920 100.1"],["fill","currentColor","d","M0,0c0,0,934.4,93.4,1920,0v100.1H0L0,0z",1,"fill-white"],[1,"relative","z-10","-mt-12"],[1,"mx-auto","flex","justify-center","items-center","size-[62px]","rounded-full","border","border-gray-200","bg-white","text-gray-700","shadow-sm"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"shrink-0","size-6"],["d","M1.92.506a.5.5 0 0 1 .434.14L3 1.293l.646-.647a.5.5 0 0 1 .708 0L5 1.293l.646-.647a.5.5 0 0 1 .708 0L7 1.293l.646-.647a.5.5 0 0 1 .708 0L9 1.293l.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .801.13l.5 1A.5.5 0 0 1 15 2v12a.5.5 0 0 1-.053.224l-.5 1a.5.5 0 0 1-.8.13L13 14.707l-.646.647a.5.5 0 0 1-.708 0L11 14.707l-.646.647a.5.5 0 0 1-.708 0L9 14.707l-.646.647a.5.5 0 0 1-.708 0L7 14.707l-.646.647a.5.5 0 0 1-.708 0L5 14.707l-.646.647a.5.5 0 0 1-.708 0L3 14.707l-.646.647a.5.5 0 0 1-.801-.13l-.5-1A.5.5 0 0 1 1 14V2a.5.5 0 0 1 .053-.224l.5-1a.5.5 0 0 1 .367-.27zm.217 1.338L2 2.118v11.764l.137.274.51-.51a.5.5 0 0 1 .707 0l.646.647.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.646.646.646-.646a.5.5 0 0 1 .708 0l.509.509.137-.274V2.118l-.137-.274-.51.51a.5.5 0 0 1-.707 0L12 1.707l-.646.647a.5.5 0 0 1-.708 0L10 1.707l-.646.647a.5.5 0 0 1-.708 0L8 1.707l-.646.647a.5.5 0 0 1-.708 0L6 1.707l-.646.647a.5.5 0 0 1-.708 0L4 1.707l-.646.647a.5.5 0 0 1-.708 0l-.509-.51z"],["d","M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm8-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5z"],[1,"p-4","sm:p-7","overflow-y-auto"],[1,"text-center"],["id","hs-ai-modal-label",1,"text-lg","font-semibold","text-gray-800","mb-0"],[1,"text-sm","text-gray-500"],[1,"mt-4","sm:mt-4","grid","grid-cols-2","sm:grid-cols-3","gap-5"],[1,"block","text-xs","uppercase","text-gray-500"],[1,"block","text-sm","font-medium","text-gray-800"],[1,"mt-4","sm:mt-5"],[1,"text-xs","font-semibold","uppercase","text-gray-800"],[1,"mt-3","flex","flex-col"],[1,"inline-flex","items-center","gap-x-2","py-3","px-4","text-sm","border","text-gray-800","-mt-px","first:rounded-t-lg","first:mt-0","last:rounded-b-lg"],[1,"flex","items-center","justify-between","w-full"],[1,"mt-5","flex","justify-end","gap-x-2"],["data-bs-dismiss","offcanvas","aria-label","Close",1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","rounded-lg","border","border-gray-200","bg-white","text-gray-800","shadow-sm","hover:bg-gray-50","disabled:opacity-50","disabled:pointer-events-none","focus:outline-none","focus:bg-gray-50","dark:bg-transparent"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"shrink-0","size-4"],["d","M18 6 6 18"],["d","m6 6 12 12"],[1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","rounded-lg","border","border-transparent","bg-blue-600","text-white","hover:bg-blue-700","focus:outline-none","focus:bg-blue-700","disabled:opacity-50","disabled:pointer-events-none"],[1,"container-detalle-empresa_sucursales"],[1,"px-4","text-[#20477E]"],[1,"max-w-[85rem]","px-4","sm:px-6","lg:px-8","mx-auto"],[1,"grid","sm:grid-cols-2","lg:grid-cols-4","gap-4","sm:gap-6"],[1,"flex","flex-col","min-w-48","bg-white","border","shadow-sm","rounded-xl"],[1,"p-3","md:p-5","flex","gap-x-4"],[1,"grow"],[1,"flex","items-center","gap-x-2"],[1,"text-xs","uppercase","tracking-wide","text-gray-500"],[1,"mt-1","flex","items-center","gap-x-2"],[1,"text-xl","sm:text-2xl","font-medium","text-gray-800"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),s(6,"div",6),e(7,"figure",7),f(),e(8,"svg",8),s(9,"path",9),a()()(),C(),e(10,"div",10)(11,"span",11),f(),e(12,"svg",12),s(13,"path",13)(14,"path",14),a()()(),C(),e(15,"div",15)(16,"div",16)(17,"h3",17),o(18," NOMBRE EMPRESA "),a(),e(19,"p",18),o(20,"ruc: 10733567363"),a()(),e(21,"div",19)(22,"div")(23,"span",20),o(24,"Estado:"),a(),e(25,"span",21),o(26),a()(),e(27,"div")(28,"span",20),o(29,"Fecha reg.:"),a(),e(30,"span",21),o(31),a()(),e(32,"div")(33,"span",20),o(34,"Usuario reg.:"),a(),e(35,"span",21),o(36),a()()(),e(37,"div",22)(38,"h4",23),o(39," Adicionales "),a(),e(40,"ul",24)(41,"li",25)(42,"div",26)(43,"span"),o(44,"Tel\xE9fono"),a(),e(45,"span"),o(46),a()()(),e(47,"li",25)(48,"div",26)(49,"span"),o(50,"Direcci\xF3n"),a(),e(51,"span"),o(52),a()()()()(),e(53,"div",27)(54,"button",28),f(),e(55,"svg",29),s(56,"path",30)(57,"path",31),a(),o(58," Cerrar "),a(),C(),e(59,"a",32),o(60," Nuevo "),a()()()()(),e(61,"div",33)(62,"h1",34),o(63,"lista Sucursales"),a(),e(64,"div",35)(65,"div",36),te(66,Ye,9,1,"div",37,ee),a()()()()()()),r&2&&(l(26),E(i.detalleEmpresa.estado),l(5),E(i.detalleEmpresa.fechacreacion||"-"),l(5),E(i.detalleEmpresa.usuariocreacion||"System"),l(10),E(i.detalleEmpresa.telefono||"-"),l(6),E(i.detalleEmpresa.direccion||"-"),l(14),ae(i.listaSucursales))},styles:[".ancho[_ngcontent-%COMP%]{width:100rem}.container-detalle-empresa[_ngcontent-%COMP%]{width:30rem;height:100%}"]})}}return t})();var et=()=>[5,10,15,20];function tt(t,d){t&1&&(e(0,"th",24),o(1," F. Registro "),a())}function at(t,d){if(t&1&&(e(0,"td",25)(1,"button",26)(2,"span",27),o(3),oe(4,"date"),a()()()),t&2){let n=d.$implicit;l(3),v(" ",n.fechacreacion?re(4,1,n.fechacreacion,"dd/MM/yyyy"):"-"," ")}}function nt(t,d){t&1&&(e(0,"th",24),o(1," RUC "),a())}function it(t,d){if(t&1&&(e(0,"td",25)(1,"button",26)(2,"span",27),o(3),a()()()),t&2){let n=d.$implicit;l(3),v(" ",n.rucempresa||"-"," ")}}function ot(t,d){t&1&&(e(0,"th",24),o(1," Razon Social "),a())}function rt(t,d){if(t&1&&(e(0,"td",25)(1,"button",26)(2,"span",27),o(3),a()()()),t&2){let n=d.$implicit;l(3),v(" ",n.razonsocial||"-"," ")}}function lt(t,d){t&1&&(e(0,"th",28),o(1," Estado "),a())}function st(t,d){t&1&&s(0,"body-table-estado-activo")}function mt(t,d){t&1&&s(0,"body-table-estado-inactivo")}function dt(t,d){if(t&1&&(e(0,"td",29)(1,"button",30),x(2,st,1,0,"body-table-estado-activo")(3,mt,1,0),a()()),t&2){let n=d.$implicit;l(2),Y(2,n.estado=="1"?2:3)}}function ct(t,d){t&1&&s(0,"tr",31)}function pt(t,d){t&1&&s(0,"tr",32)}var Ue=(()=>{class t{constructor(){this.displayedColumns=["fechacreacion","rucempresa","razonsocial","estado"],this.dataSource=new Ae([]),this._empresas=G(A),this._liveAnnouncer=G(xe),this.detalleEmpresa={},this.sucursales=[],this.DatosEmpresas=[],this.cantidadEmpresas=0,this.cantidadSucursales=0}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}ngOnInit(){this.listaEmpresas()}announceSortChange(n){n.direction?this._liveAnnouncer.announce(`Sorted ${n.direction}ending`):this._liveAnnouncer.announce("Sorting cleared")}applyFilter(n){let r=n.target.value;this.dataSource.filter=r.trim().toLowerCase(),this.dataSource.paginator?.firstPage()}listaEmpresas(){this.empresasSubscription=this._empresas.ListarEmpresas().subscribe(n=>{this.dataSource.data=n.exito?n.empresas:[],this.cantidadEmpresas=this.dataSource.data.length})}DetalleEmpresas(n){let r={rucEmpresa:n};this.empresaDetalleSubscription=this._empresas.DetalleEmpresa(r).subscribe(i=>{this.detalleEmpresa=i})}ngOnDestroy(){this.empresasSubscription?.unsubscribe(),this.empresaDetalleSubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["table-lista-empresas"]],viewQuery:function(r,i){if(r&1&&(q(B,5),q(V,5)),r&2){let c;Q(c=$())&&(i.paginator=c.first),Q(c=$())&&(i.sort=c.first)}},standalone:!0,features:[u],decls:35,vars:7,consts:[["input",""],[1,"max-w-[100rem]","py-2","lg:py-0","mx-auto"],[1,"w-[100rem]","sm:w-[20rem]","lg:w-[20rem]"],["matTextPrefix",""],["type","text","matInput","","placeholder","Ingresar descripci\xF3n",3,"keyup"],[1,"max-w-[100rem]","py-6","lg:py-4","mx-auto","h-auto"],[1,"flex","flex-col"],[1,"-m-1.5","overflow-x-auto"],[1,"p-1.5","min-w-full","inline-block","align-middle"],[1,"bg-white","border","border-gray-200","rounded-xl","shadow-sm","overflow-hidden"],[1,"mat-elevation-z8","h-auto"],["mat-table","","matSort","",3,"matSortChange","dataSource"],["matColumnDef","fechacreacion"],["mat-header-cell","","class","mat-primary","mat-sort-header","",4,"matHeaderCellDef"],["class","rol","mat-cell","",4,"matCellDef"],["matColumnDef","rucempresa"],["matColumnDef","razonsocial"],["matColumnDef","estado"],["mat-header-cell","","class","mat-accent","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[3,"detalleEmpresa","listaSucursales"],["mat-header-cell","","mat-sort-header","",1,"mat-primary"],["mat-cell","",1,"rol"],[1,"px-6","py-1","flex","gap-2","align-center"],[1,"text-sm","text-gray-600","dark:text-neutral-400"],["mat-header-cell","","mat-sort-header","",1,"mat-accent"],["mat-cell",""],["type","button","aria-haspopup","dialog","aria-expanded","false",1,"block"],["mat-header-row",""],["mat-row",""]],template:function(r,i){if(r&1){let c=ne();e(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),o(3,"Buscar Empresa"),a(),e(4,"span",3)(5,"mat-icon"),o(6,"search"),a(),o(7," \xA0"),a(),e(8,"input",4,0),b("keyup",function(N){return H(c),W(i.applyFilter(N))}),a()()(),e(10,"section")(11,"div",5)(12,"div",6)(13,"div",7)(14,"div",8)(15,"div",9)(16,"div",10)(17,"table",11),b("matSortChange",function(N){return H(c),W(i.announceSortChange(N))}),y(18,12),x(19,tt,2,0,"th",13)(20,at,5,4,"td",14),M(),y(21,15),x(22,nt,2,0,"th",13)(23,it,4,1,"td",14),M(),y(24,16),x(25,ot,2,0,"th",13)(26,rt,4,1,"td",14),M(),y(27,17),x(28,lt,2,0,"th",18)(29,dt,4,1,"td",19),M(),x(30,ct,1,0,"tr",20)(31,pt,1,0,"tr",21),a(),s(32,"mat-paginator",22),a()()()()()()(),s(33,"detalle-empresa-page",23)(34,"registro-empresa")}r&2&&(l(17),g("dataSource",i.dataSource),l(13),g("matHeaderRowDef",i.displayedColumns),l(),g("matRowDefColumns",i.displayedColumns),l(),g("pageSizeOptions",ie(6,et)),l(),g("detalleEmpresa",i.detalleEmpresa)("listaSucursales",i.sucursales))},dependencies:[T,le,He,je,Ne,Fe,we,Pe,ke,Te,Re,De,Le,Oe,Ie,ze,Se,B,O,L,We,I,D,k,Ce,F,z,Ve,V,Be],styles:["table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5}.container-data[_ngcontent-%COMP%]{display:flex;gap:.4rem;align-items:center}.container-data[_ngcontent-%COMP%]   .container-icon[_ngcontent-%COMP%]{width:2.4rem;height:2.4rem;display:grid;place-content:center}.rol[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#20477e}.container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;align-items:center;padding-top:.1rem;margin:0}.container[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{display:none}.container-matmenu[_ngcontent-%COMP%]{padding:.5rem;box-sizing:border-box;display:flex;flex-direction:column;gap:.3rem}.container-matmenu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0;color:#0158dd}.container-matmenu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-bottom:.5rem}.container-matmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:10px}.container-matmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#20477e}.form-check-input[_ngcontent-%COMP%]{width:2.3rem;height:1.3rem}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0158dd;border-color:#0158dd}.cargo[_ngcontent-%COMP%]{color:#20477e}.person[_ngcontent-%COMP%]{color:#00d1ae}.date[_ngcontent-%COMP%]{color:#0158dd}.btnedit[_ngcontent-%COMP%]{width:42px;height:42px;background-color:transparent;box-shadow:none;border-radius:10px;color:#20477e}.btn-detalle[_ngcontent-%COMP%]{color:#00d1ae}.container-matmenu[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none}.empresa[_ngcontent-%COMP%]{color:#00d1ae}.clave[_ngcontent-%COMP%]{color:#0158dd}.container-razonsocial[_ngcontent-%COMP%], .container-rucempresa[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.container-rucempresa[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#20477e}.container-razonsocial[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#00d1ae}.icon-ruc[_ngcontent-%COMP%]{color:#20477e}"]})}}return t})();var qe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=p({type:t,selectors:[["app-empresa-page"]],standalone:!0,features:[u],decls:24,vars:0,consts:[[1,"sticky","top-0","inset-x-0","flex","flex-wrap","md:justify-start","md:flex-nowrap","z-[48]","w-full","bg-white","border-b","text-sm","py-2.5","lg:ps-[260px]","dark:bg-neutral-800","dark:border-neutral-700"],[1,"px-4","sm:px-6","flex","basis-full","items-center","w-full","mx-auto"],[1,"me-5","lg:me-0","lg:hidden"],["aria-label","Preline",1,"flex-none","rounded-md","text-xl","no-underline","font-semibold"],[1,"md:flex-1"],[1,"lg:hidden","ms-1"],[1,"w-full","flex","items-center","justify-end","ms-auto","md:justify-between","gap-x-1","md:gap-x-3"],[1,"hidden","lg:block"],[1,"flex","flex-row","items-center","justify-end","gap-1"],[1,"md:block"],[1,"relative"],["type","button","data-bs-toggle","modal","data-bs-target","#modalRegistoEmpresas",1,"py-2","px-3","inline-flex","items-center","gap-x-2","text-sm","font-medium","rounded-lg","border","border-transparent","bg-blue-600","text-white","hover:bg-blue-700","focus:outline-none","focus:bg-blue-700","disabled:opacity-50","disabled:pointer-events-none"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"shrink-0","size-4"],["d","M5 12h14"],["d","M12 5v14"],[1,"w-full","lg:ps-64","h-auto"],[1,"w-full","lg:ps-0"],[1,"px-4","sm:px-4","sm:pt-4","space-y-4","sm:space-y-6"]],template:function(r,i){r&1&&(e(0,"header",0)(1,"nav",1)(2,"div",2)(3,"a",3)(4,"h3",4)(5,"span"),o(6,"EMPRESAS"),a()()(),s(7,"div",5),a(),e(8,"div",6)(9,"div",7)(10,"h3",8)(11,"span"),o(12,"EMPRESAS"),a()()(),e(13,"div",9)(14,"div",10)(15,"button",11),f(),e(16,"svg",12),s(17,"path",13)(18,"path",14),a(),o(19," Nuevo "),a()()()()()(),C(),e(20,"div",15)(21,"div",16)(22,"div",17),s(23,"table-lista-empresas"),a()()())},dependencies:[Ue],styles:["h3[_ngcontent-%COMP%]{flex:1;text-align:left;font-size:1.5rem;color:#fff;margin-bottom:0}h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#20477e}"]})}}return t})();var aa=[{path:"",component:qe}];export{aa as EMPRESAS_ROUTE};
