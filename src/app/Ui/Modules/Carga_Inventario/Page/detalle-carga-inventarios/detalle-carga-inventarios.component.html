<div
  class="offcanvas offcanvas-end ancho"
  tabindex="-1"
  id="hs-detalles-inventario"
  data-bs-backdrop="static"
  aria-labelledby="hs-detalles-inventario"
>
  <div class="offcanvas-header header-detalle">
    <!-- Header con información clave -->
    <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
      <!-- Inventario descripción y estado -->
      <div class="px-3 py-3 rounded-lg flex items-center gap-3">
        <div
          class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full"
        >
          <mat-icon
            class="text-[var(--color-principal-2)] text-base text-center"
            >inventory</mat-icon
          >
        </div>
        <div>
          <div class="flex items-center gap-2">
            <span class="text-xs uppercase text-gray-500 font-semibold"
              >Detalle inv.</span
            >
            <span
              class="py-1 px-1.5 inline-flex content-center items-center justify-center gap-x-1 text-xs font-medium rounded-full shadow-md"
              [ngClass]="{
                'bg-[var(--color-principal-3)] text-white':
                  citaSeleccionada.estado == '1',
                'bg-[var(--color-principal-6)] text-white':
                  citaSeleccionada.estado == '0'
              }"
            >
              {{ citaSeleccionada.estado == "1" ? "Activo" : "Inactivo" }}
            </span>
          </div>
          <span class="text-sm font-medium text-gray-800 block">{{
            citaSeleccionada.descripcion
          }}</span>
        </div>
      </div>

      <!-- Usuario Creador -->
      <div class="px-3 py-3 rounded-lg flex items-center gap-3">
        <div
          class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full"
        >
          <mat-icon
            class="text-[var(--color-principal-2)] text-base text-center"
            >person</mat-icon
          >
        </div>
        <div>
          <span class="text-xs uppercase text-gray-500 font-semibold"
            >Usuario Creador</span
          >
          <span class="text-sm font-medium text-gray-800 block">{{
            citaSeleccionada.usuariocreacion
          }}</span>
        </div>
      </div>

      <!-- RUC -->
      <div class="px-3 py-3 rounded-lg flex items-center gap-3">
        <div
          class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full"
        >
          <mat-icon
            class="text-[var(--color-principal-2)] text-base text-center"
            >business</mat-icon
          >
        </div>
        <div>
          <span class="text-xs uppercase text-gray-500 font-semibold">RUC</span>
          <span class="text-sm font-medium text-gray-800 block">{{
            citaSeleccionada.rucempresa
          }}</span>
        </div>
      </div>

      <!-- Fecha Registro -->
      <div class="px-3 py-3 rounded-lg flex items-center gap-3">
        <div
          class="w-8 h-8 flex items-center justify-center bg-gray-100 rounded-full"
        >
          <mat-icon
            class="text-[var(--color-principal-2)] text-base text-center"
            >event</mat-icon
          >
        </div>
        <div>
          <span class="text-xs uppercase text-gray-500 font-semibold"
            >Fecha Registro</span
          >
          <span class="text-sm font-medium text-gray-800 block">{{
            citaSeleccionada.fechacreacion | date : "dd/MM/yyyy"
          }}</span>
        </div>
      </div>
    </div>

    <button
      type="button"
      class="btn-close"
      data-bs-dismiss="offcanvas"
      aria-label="Close"
    ></button>
  </div>
  <div class="offcanvas-body">
    <div class="max-w-[100rem] px-4 py-1 sm:px-6 lg:px-8 lg:py-14 mx-auto">
      <!-- =================================================================================== -->
      <!-- Apartado filtros -->
      <!-- =================================================================================== -->
      <div class="max-w-[100rem] py-2 lg:py-0 mx-auto flex gap-2">
        <mat-form-field class="w-[20rem]">
          <mat-label>Buscar producto</mat-label>
          <input
            matInput
            (keyup)="applyFilter($event)"
            placeholder="Ingresar descripción"
            #input
          />
        </mat-form-field>
      </div>
      <div class="flex flex-col">
        <div class="-m-1.5 overflow-x-auto">
          <div class="p-1.5 min-w-full inline-block align-middle">
            <div
              class="bg-white border border-gray-200 rounded-xl shadow-sm overflow-hidden"
            >
              <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource">
                  <ng-container matColumnDef="codigoproducto">
                    <th mat-header-cell *matHeaderCellDef>Cod. Producto</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.codigoproducto }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="codigobarra">
                    <th mat-header-cell *matHeaderCellDef>Cod. Barra</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.codigobarra }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="descripcionProducto">
                    <th mat-header-cell *matHeaderCellDef>Descripción</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.descripcionProducto }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="unidad">
                    <th mat-header-cell *matHeaderCellDef>Unidad</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.unidad }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="stockL">
                    <th mat-header-cell *matHeaderCellDef>stock L.</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.stockL }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="almacen">
                    <th mat-header-cell *matHeaderCellDef>Almacen</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.almacen }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="sucursal">
                    <th mat-header-cell *matHeaderCellDef>Sucursal</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.sucursal }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="zona">
                    <th mat-header-cell *matHeaderCellDef>Zona</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.zona }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="pasillo">
                    <th mat-header-cell *matHeaderCellDef>Pasillos</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.pasillo }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="rack">
                    <th mat-header-cell *matHeaderCellDef>Rack</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.rack }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="ubicacion">
                    <th mat-header-cell *matHeaderCellDef>Ubicación</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.ubicacion }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="esagrupado">
                    <th mat-header-cell *matHeaderCellDef>Es Agrupado</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.esagrupado }}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="codgrupo">
                    <th mat-header-cell *matHeaderCellDef>Cod. Grupo</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.codigogrupo }}
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr
                    mat-row
                    *matRowDef="let row; columns: displayedColumns"
                  ></tr>
                </table>
                <div class="input-group mb-2 flex items-center ml-4">
                  <div class="dropdown mr-4">
                    <select
                      class="form-select"
                      (change)="onItemsPerPageChange($event)"
                      aria-label="Default select example"
                    >
                      <option value="" disabled selected>Ítems</option>
                      <option value="5">5</option>
                      <option selected value="10">10</option>
                      <option value="15">15</option>
                      <option value="20">20</option>
                    </select>
                  </div>
                  <div class="flex items-center justify-center">
                    <mat-paginator
                      [pageSize]="itemsPerPage"
                      showFirstLastButtons
                      aria-label="Select page of periodic elements"
                    >
                    </mat-paginator>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
